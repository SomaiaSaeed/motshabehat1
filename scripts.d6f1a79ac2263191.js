!function(u,s){var y,i;"object"==typeof exports&&"undefined"!=typeof module?module.exports=s():"function"==typeof define&&define.amd?define(s):(y=u.Base64,(i=s()).noConflict=function(){return u.Base64=y,i},u.Meteor&&(Base64=i),u.Base64=i)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this,function(){"use strict";var t,y="function"==typeof atob,i="function"==typeof btoa,d="function"==typeof Buffer,_="function"==typeof TextDecoder?new TextDecoder:void 0,C="function"==typeof TextEncoder?new TextEncoder:void 0,v=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),l=(t={},v.forEach(function(n,o){return t[n]=o}),t),N=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,e=String.fromCharCode.bind(String),U="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(r){return new Uint8Array(Array.prototype.slice.call(r,0))},F=function(r){return r.replace(/=/g,"").replace(/[+\/]/g,function(t){return"+"==t?"-":"_"})},w=function(r){return r.replace(/[^A-Za-z0-9\+\/]/g,"")},S=function(r){for(var t,n,o,f,a="",m=r.length%3,b=0;b<r.length;){if((n=r.charCodeAt(b++))>255||(o=r.charCodeAt(b++))>255||(f=r.charCodeAt(b++))>255)throw new TypeError("invalid character found");a+=v[(t=n<<16|o<<8|f)>>18&63]+v[t>>12&63]+v[t>>6&63]+v[63&t]}return m?a.slice(0,m-3)+"===".substring(m):a},A=i?function(r){return btoa(r)}:d?function(r){return Buffer.from(r,"binary").toString("base64")}:S,p=d?function(r){return Buffer.from(r).toString("base64")}:function(r){for(var n=[],o=0,f=r.length;o<f;o+=4096)n.push(e.apply(null,r.subarray(o,o+4096)));return A(n.join(""))},h=function(r,t){return void 0===t&&(t=!1),t?F(p(r)):p(r)},k=function(r){if(r.length<2)return(t=r.charCodeAt(0))<128?r:t<2048?e(192|t>>>6)+e(128|63&t):e(224|t>>>12&15)+e(128|t>>>6&63)+e(128|63&t);var t=65536+1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320);return e(240|t>>>18&7)+e(128|t>>>12&63)+e(128|t>>>6&63)+e(128|63&t)},M=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,D=function(r){return r.replace(M,k)},E=d?function(r){return Buffer.from(r,"utf8").toString("base64")}:C?function(r){return p(C.encode(r))}:function(r){return A(D(r))},c=function(r,t){return void 0===t&&(t=!1),t?F(E(r)):E(r)},R=function(r){return c(r,!0)},$=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,q=function(r){switch(r.length){case 4:var n=((7&r.charCodeAt(0))<<18|(63&r.charCodeAt(1))<<12|(63&r.charCodeAt(2))<<6|63&r.charCodeAt(3))-65536;return e(55296+(n>>>10))+e(56320+(1023&n));case 3:return e((15&r.charCodeAt(0))<<12|(63&r.charCodeAt(1))<<6|63&r.charCodeAt(2));default:return e((31&r.charCodeAt(0))<<6|63&r.charCodeAt(1))}},T=function(r){return r.replace($,q)},I=function(r){if(r=r.replace(/\s+/g,""),!N.test(r))throw new TypeError("malformed base64.");r+="==".slice(2-(3&r.length));for(var t,o,f,n="",a=0;a<r.length;)t=l[r.charAt(a++)]<<18|l[r.charAt(a++)]<<12|(o=l[r.charAt(a++)])<<6|(f=l[r.charAt(a++)]),n+=64===o?e(t>>16&255):64===f?e(t>>16&255,t>>8&255):e(t>>16&255,t>>8&255,255&t);return n},B=y?function(r){return atob(w(r))}:d?function(r){return Buffer.from(r,"base64").toString("binary")}:I,z=d?function(r){return U(Buffer.from(r,"base64"))}:function(r){return U(B(r).split("").map(function(t){return t.charCodeAt(0)}))},P=function(r){return z(Z(r))},G=d?function(r){return Buffer.from(r,"base64").toString("utf8")}:_?function(r){return _.decode(z(r))}:function(r){return T(B(r))},Z=function(r){return w(r.replace(/[-_]/g,function(t){return"-"==t?"+":"/"}))},g=function(r){return G(Z(r))},j=function(r){return{value:r,enumerable:!1,writable:!0,configurable:!0}},O=function(){var r=function(t,n){return Object.defineProperty(String.prototype,t,j(n))};r("fromBase64",function(){return g(this)}),r("toBase64",function(t){return c(this,t)}),r("toBase64URI",function(){return c(this,!0)}),r("toBase64URL",function(){return c(this,!0)}),r("toUint8Array",function(){return P(this)})},V=function(){var r=function(t,n){return Object.defineProperty(Uint8Array.prototype,t,j(n))};r("toBase64",function(t){return h(this,t)}),r("toBase64URI",function(){return h(this,!0)}),r("toBase64URL",function(){return h(this,!0)})},x={version:"3.7.5",VERSION:"3.7.5",atob:B,atobPolyfill:I,btoa:A,btoaPolyfill:S,fromBase64:g,toBase64:c,encode:c,encodeURI:R,encodeURL:R,utob:D,btou:T,decode:g,isValid:function(r){if("string"!=typeof r)return!1;var t=r.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fromUint8Array:h,toUint8Array:P,extendString:O,extendUint8Array:V,extendBuiltins:function(){O(),V()},Base64:{}};return Object.keys(x).forEach(function(r){return x.Base64[r]=x[r]}),x});